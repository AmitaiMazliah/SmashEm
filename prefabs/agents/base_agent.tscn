[gd_scene load_steps=12 format=3 uid="uid://cl2oliy18bkk7"]

[ext_resource type="PhysicsMaterial" uid="uid://nfder5jo4p27" path="res://agent_physics_material.tres" id="1_sq3ck"]
[ext_resource type="Script" path="res://scripts/agents/agent_2d.gd" id="2_k548n"]
[ext_resource type="PackedScene" uid="uid://jscrss2sgl0n" path="res://prefabs/vfx/agent_collision_effect.tscn" id="3_x68o2"]
[ext_resource type="PackedScene" uid="uid://6r4gd80quheg" path="res://prefabs/vfx/agent_wall_collision_effect.tscn" id="4_lkagj"]
[ext_resource type="PackedScene" uid="uid://cvwa28gjp2pf7" path="res://prefabs/vfx/death_particles.tscn" id="5_oo2f0"]
[ext_resource type="Texture2D" uid="uid://cyyj1wrprivnb" path="res://art/kenney_shape-characters/PNG/Double/blue_body_rhombus.png" id="6_3e7mx"]
[ext_resource type="Texture2D" uid="uid://dy1n6rxo6h1a2" path="res://art/kenney_shape-characters/PNG/Double/face_a.png" id="7_dklko"]
[ext_resource type="Texture2D" uid="uid://b1vwfajx7j17e" path="res://art/kenney_shape-characters/PNG/Double/blue_hand_open.png" id="8_pr7bm"]
[ext_resource type="Script" path="res://scripts/health_bar.gd" id="10_j0r5x"]
[ext_resource type="Theme" uid="uid://dx4axq65l727t" path="res://theme.tres" id="11_cpbxc"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0fnhx"]
radius = 55.0

[node name="Agent" type="RigidBody2D" node_paths=PackedStringArray("_head_place_holder", "_right_hand_place_holder", "_left_hand_place_holder", "_legs_place_holder") groups=["Agents"]]
physics_material_override = ExtResource("1_sq3ck")
gravity_scale = 0.0
lock_rotation = true
max_contacts_reported = 10
contact_monitor = true
linear_damp = 1.0
script = ExtResource("2_k548n")
starting_velocity = 1400.0
_head_place_holder = NodePath("Visuals/HeadPlaceHolder")
_right_hand_place_holder = NodePath("Visuals/RightHandPlaceHolder")
_left_hand_place_holder = NodePath("Visuals/LeftHandPlaceHolder")
_legs_place_holder = NodePath("Visuals/LegsPlaceHolder")
collision_vfx_prefab = ExtResource("3_x68o2")
wall_collision_vfx_prefab = ExtResource("4_lkagj")
death_vfx_prefab = ExtResource("5_oo2f0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_0fnhx")

[node name="Visuals" type="Node2D" parent="."]

[node name="BlueBodyRhombus" type="Sprite2D" parent="Visuals"]
scale = Vector2(0.65, 0.65)
texture = ExtResource("6_3e7mx")

[node name="FaceA" type="Sprite2D" parent="Visuals"]
scale = Vector2(0.65, 0.65)
texture = ExtResource("7_dklko")

[node name="BlueHandOpen" type="Sprite2D" parent="Visuals"]
z_index = 1
position = Vector2(55, 40)
rotation = 2.00713
scale = Vector2(0.65, 0.65)
texture = ExtResource("8_pr7bm")

[node name="BlueHandOpen2" type="Sprite2D" parent="Visuals"]
z_index = 1
position = Vector2(-55, 40)
rotation = -2.00713
scale = Vector2(0.65, 0.65)
texture = ExtResource("8_pr7bm")
flip_h = true

[node name="HeadPlaceHolder" type="Node2D" parent="Visuals"]
z_index = 10
position = Vector2(1, -47)

[node name="RightHandPlaceHolder" type="Node2D" parent="Visuals"]
z_index = 10
position = Vector2(39, 44)

[node name="LeftHandPlaceHolder" type="Node2D" parent="Visuals"]
z_index = 10
position = Vector2(-36, 44)

[node name="LegsPlaceHolder" type="Node2D" parent="Visuals"]
z_index = 10
position = Vector2(0, 56)

[node name="HealthBar" type="Control" parent="Visuals" node_paths=PackedStringArray("agent")]
layout_mode = 3
anchors_preset = 0
offset_left = -60.0
offset_top = -75.0
offset_right = 60.0
offset_bottom = -60.0
script = ExtResource("10_j0r5x")
agent = NodePath("../..")

[node name="ProgressBar" type="ProgressBar" parent="Visuals/HealthBar"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("11_cpbxc")
show_percentage = false
